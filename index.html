<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Ecological Trajectory Analysis • ecotraj</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Ecological Trajectory Analysis">
<meta name="description" content="Analysis of temporal changes (i.e. dynamics) of ecological entities, defined as trajectories on a chosen multivariate space, by providing a set of trajectory metrics and visual representations [De Caceres et al. (2019) &lt;doi:10.1002/ecm.1350&gt;; and Sturbois et al. (2021) &lt;doi:10.1016/j.ecolmodel.2020.109400&gt;]. Includes functions to estimate metrics for individual trajectories (length, directionality, angles, ...) as well as metrics to relate pairs of trajectories (dissimilarity and convergence). Functions are also provided to estimate the ecological quality of ecosystem with respect to reference conditions [Sturbois et al. (2023) &lt;doi:10.1002/ecs2.4726&gt;].">
<meta property="og:description" content="Analysis of temporal changes (i.e. dynamics) of ecological entities, defined as trajectories on a chosen multivariate space, by providing a set of trajectory metrics and visual representations [De Caceres et al. (2019) &lt;doi:10.1002/ecm.1350&gt;; and Sturbois et al. (2021) &lt;doi:10.1016/j.ecolmodel.2020.109400&gt;]. Includes functions to estimate metrics for individual trajectories (length, directionality, angles, ...) as well as metrics to relate pairs of trajectories (dissimilarity and convergence). Functions are also provided to estimate the ecological quality of ecosystem with respect to reference conditions [Sturbois et al. (2023) &lt;doi:10.1002/ecs2.4726&gt;].">
<meta property="og:image" content="https://emf-creaf.github.io/ecotraj/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">ecotraj</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><h6 class="dropdown-header" data-toc-skip>Ecological Trajectory Analysis</h6></li>
    <li><a class="dropdown-item" href="articles/IntroductionETA.html">Introduction to Ecological Trajectory Analysis (ETA)</a></li>
    <li><a class="dropdown-item" href="articles/TransformingTrajectories.html">Transforming trajectories</a></li>
    <li><a class="dropdown-item" href="articles/TrajectoryDistanceMetrics.html">Distance metrics for trajectory resemblance</a></li>
    <li><a class="dropdown-item" href="articles/Dissimilarities.html">Dissimilarities in community data</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Stable Isotope Trajectory Analysis</h6></li>
    <li><a class="dropdown-item" href="articles/SITA.html">Introduction to Stable Isotope Trajectory Analysis (SITA)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Cyclical Ecological Trajectory Analysis</h6></li>
    <li><a class="dropdown-item" href="articles/IntroductionCETA.html">Introduction to Cyclical Ecological Trajectory Analysis (CETA)</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Ecological Quality Assessment</h6></li>
    <li><a class="dropdown-item" href="articles/IntroductionEQA.html">Introduction to Ecological Quality Assessment (EQA)</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/emf-creaf/ecotraj/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="ecological-trajectory-analysis-">Ecological trajectory analysis 
<a class="anchor" aria-label="anchor" href="#ecological-trajectory-analysis-"></a>
</h1>
</div>
<p><a href="https://cran.r-project.org/package=ecotraj" class="external-link"><img src="http://www.r-pkg.org/badges/version/ecotraj" alt="CRAN_Status_Badge"></a> <a href="https://cran.rstudio.com/web/packages/ecotraj/index.html" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/ecotraj"></a> <a href="https://github.com/emf-creaf/ecotraj/actions" class="external-link"><img src="https://github.com/emf-creaf/ecotraj/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Package <code>ecotraj</code> is a package providing Ecological Trajectory Analysis (ETA), a framework to analyse temporal changes (i.e. dynamics) in ecological entities defined as trajectories on a chosen multivariate space.</p>
<p>ETA is related to the following publications:</p>
<ul>
<li><p>Initial presentation of the <strong>Ecological Trajectory Analysis (ETA)</strong> framework (De Cáceres et al. 2019).</p></li>
<li><p>ETA extension of <strong>metrics</strong> and <strong>visualisation modes</strong> (Sturbois et al. 2021a).</p></li>
<li><p>ETA extension to <strong>cyclical</strong> trajectory data (Djeghri et al. under review).</p></li>
<li><p>Interpretation of trajectory <strong>relative movements</strong> (Djeghri et al. in prep.).</p></li>
<li><p>Application to a multivariate space defined by <strong>stable isotope</strong> data (Sturbois et al. 2021b).</p></li>
<li><p>Application to a multivariate space defined by <strong>elemental composition</strong> data (de la Casa et al. 2025).</p></li>
<li><p>Application of ETA framework for the <strong>assessment of ecological quality</strong> (Sturbois et al. 2023).</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="package-installation">Package installation<a class="anchor" aria-label="anchor" href="#package-installation"></a>
</h2>
<p>Package <code>ecotraj</code> can be found at <a href="https://cran.r-project.org/package=ecotraj" class="external-link">CRAN</a>. In addition, the latest stable <code>ecotraj</code> R package can also be installed from GitHub as follows:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"emf-creaf/ecotraj"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="documentation-and-training">Documentation and training<a class="anchor" aria-label="anchor" href="#documentation-and-training"></a>
</h2>
<ul>
<li><p>The package comes with function documentation including examples.</p></li>
<li><p>Several articles explaining the different metrics of the framework and how to conduct them using package functions can be found <a href="https://emf-creaf.github.io/ecotraj/articles/">here</a>.</p></li>
<li><p>Presentation slides of a course on ecological trajectory analysis can be found <a href="https://emf.creaf.cat/training/ecotraj_course/" class="external-link">here</a>.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="package-functions">Package functions<a class="anchor" aria-label="anchor" href="#package-functions"></a>
</h2>
<p>The following lists the main package functions, grouped by analysis framework:</p>
<p><strong>Functions for Ecological Trajectory Analysis (ETA)</strong></p>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead><tr>
<th>Name</th>
<th>Short description</th>
</tr></thead>
<tbody>
<tr>
<td><code><a href="reference/defineTrajectories.html">defineTrajectories()</a></code></td>
<td>Defines trajectory objects to be analyzed.</td>
</tr>
<tr>
<td><code><a href="reference/subsetTrajectories.html">subsetTrajectories()</a></code></td>
<td>Subsets trajectories corresponding to selected set of sites or surveys from a dataset containing multiple trajectories.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryMetrics.html">trajectoryLengths()</a></code></td>
<td>Calculates lengths of directed segments and total path length of trajectories.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryMetrics.html">trajectoryLengths2D()</a></code></td>
<td>Calculates lengths of directed segments and total path lengths of trajectories from 2D coordinates given as input.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryMetrics.html">trajectorySpeeds()</a></code></td>
<td>Calculates speeds of directed segments and total path speed of trajectories.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryMetrics.html">trajectorySpeeds2D()</a></code></td>
<td>Calculates speeds of directed segments and total path speed of trajectories from 2D coordinates given as input.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryMetrics.html">trajectoryAngles()</a></code></td>
<td>Calculates the angle between consecutive pairs of directed segments or between segments of ordered triplets of points.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryMetrics.html">trajectoryDirectionality()</a></code></td>
<td>Assesses the level directionality of each trajectory.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryMetrics.html">trajectoryAngles2D()</a></code></td>
<td>Calculates the angle between consecutive pairs of directed segments or between segments of ordered triplets of points from 2D coordinates.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryComparison.html">trajectoryConvergence()</a></code></td>
<td>Performs the Mann-Kendall trend test on (1) the distances between trajectories; (2) the distance between points of one trajectory to the other; or (3) the variance of states among trajectories.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryComparison.html">trajectoryCorrespondence()</a></code></td>
<td>Performs a permutation test of pairwise dynamic correspondence between trajectories sensitive to trajectory shape and movement direction.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryRMA.html">trajectoryRMA()</a></code></td>
<td>Tests and qualifies the relative movements of ecological trajectories.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryMetrics.html">trajectoryInternalVariation()</a></code></td>
<td>Assesses the internal variability within each trajectory.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryComparison.html">trajectoryDistances()</a></code></td>
<td>Estimates distances between pairs of ecosystem trajectories.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryComparison.html">trajectoryShifts()</a></code></td>
<td>Calculates trajectory shifts (i.e. advances and delays) between trajectories assumed to follow a similar path but with different speeds or time lags.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryPlot.html">trajectoryPlot()</a></code></td>
<td>Draws trajectories in a 2D-plot corresponding to the input coordinates.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryPlot.html">trajectoryPCoA()</a></code></td>
<td>Performs principal coordinates analysis and draws trajectories in the ordination scatterplot.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryMetrics.html">trajectoryMetrics()</a></code></td>
<td>Calculates several (whole path) metrics on trajectories.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryMetrics.html">trajectoryWindowMetrics()</a></code></td>
<td>Calculates several metrics on subtrajectories defined using moving windows.</td>
</tr>
<tr>
<td><code><a href="reference/dynamicVariation.html">dynamicVariation()</a></code></td>
<td>Assesses the amount of dynamic variation observed across trajectories and the relative contribution of each of them.</td>
</tr>
<tr>
<td><code><a href="reference/transformTrajectories.html">interpolateTrajectories()</a></code></td>
<td>Relocates trajectory ecological states to those corresponding to input times, via linear interpolation.</td>
</tr>
<tr>
<td><code><a href="reference/transformTrajectories.html">smoothTrajectories()</a></code></td>
<td>Performs multivariate smoothing on trajectory data using a Gaussian kernel.</td>
</tr>
<tr>
<td><code><a href="reference/transformTrajectories.html">centerTrajectories()</a></code></td>
<td>Shifts all trajectories to the center of the multivariate space and returns a modified distance matrix.</td>
</tr>
</tbody>
</table>
<p><strong>Functions specific for Cyclical Ecological Trajectory Analysis (CETA)</strong></p>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead><tr>
<th>Name</th>
<th>Short description</th>
</tr></thead>
<tbody>
<tr>
<td><code><a href="reference/trajectoryCyclical.html">extractCycles()</a></code></td>
<td>Extracts (i.e. subsets) cycles from cyclical trajectories.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryCyclical.html">extractFixedDateTrajectories()</a></code></td>
<td>Extracts fixed-date trajectories from cyclical trajectories.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryCyclical.html">cycleShifts()</a></code></td>
<td>Estimates cyclical shifts (i.e. advances or delays).</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryCyclical.html">cycleConvexity()</a></code></td>
<td>Estimates the degree of convexity of cycles.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryCyclical.html">cycleMetrics()</a></code></td>
<td>Calculates several (whole path) metrics on cycles.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryCyclicalPlots.html">cyclePCoA()</a></code></td>
<td>Performs Principal Coordinates Analysis and draws cycles in the ordination scatter plot.</td>
</tr>
<tr>
<td><code><a href="reference/trajectoryCyclicalPlots.html">fixedDateTrajectoryPCoA()</a></code></td>
<td>Performs Principal Coordinates Analysis and draws fixed date trajectories in the ordination scatter plot.</td>
</tr>
</tbody>
</table>
<p><strong>Functions for Ecological Quality Assessment (EQA)</strong></p>
<table class="table">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<thead><tr>
<th>Name</th>
<th>Short description</th>
</tr></thead>
<tbody>
<tr>
<td><code><a href="reference/referenceEnvelopes.html">stateEnvelopeVariability()</a></code></td>
<td>Assess the variability of a set of <em>states</em> taken as reference envelope.</td>
</tr>
<tr>
<td><code><a href="reference/referenceEnvelopes.html">trajectoryEnvelopeVariability()</a></code></td>
<td>Assess the variability of a set of <em>trajectories</em> taken as reference envelope.</td>
</tr>
<tr>
<td><code><a href="reference/referenceEnvelopes.html">compareToStateEnvelope()</a></code></td>
<td>Evaluate the ecological quality of stations/observations with respect to a set of <em>states</em> taken as reference envelope.</td>
</tr>
<tr>
<td><code><a href="reference/referenceEnvelopes.html">compareToTrajectoryEnvelope()</a></code></td>
<td>Evaluate the ecological quality of stations/observations with respect to a set of <em>trajectories</em> taken as reference envelope.</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="related-package">Related package<a class="anchor" aria-label="anchor" href="#related-package"></a>
</h2>
<p>The R package <a href="https://mspinillos.github.io/ecoregime/" class="external-link"><strong>ecoregime</strong></a>, by Martina Sánchez-Pinillos, implements the Ecological Dynamic Regimes (EDR) framework to characterize and compare groups of ecological trajectories in multidimensional spaces defined by ecosystem state variables.</p>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li><p>De Cáceres M, Coll L, Legendre P, Allen RB, Wiser SK, Fortin MJ, Condit R &amp; Hubbell S (2019). Trajectory analysis in community ecology. Ecological Monographs 89, e01350 (<a href="https://doi.org/10.1002/ecm.1350" class="external-link uri">https://doi.org/10.1002/ecm.1350</a>).</p></li>
<li><p>de la Casa J, Nogué S, De Cáceres M, Pla-Rabés S, Sardans J, Benavente M, Giralt S, Hernandez A, Raposeiro PM &amp; Peñuelas J (2025) Understanding two millenia ecosystem perturbations on the Azores archipelago through elementome trajectories. Ecological Indicators, 176, 113630 (<a href="https://doi.org/10.1016/j.ecolind.2025.113630" class="external-link uri">https://doi.org/10.1016/j.ecolind.2025.113630</a>).</p></li>
<li><p>Djeghri et al (under review) Going round in cycles, but going somewhere: Ecological Trajectory Analysis as a tool to decipher seasonality and other cyclical dynamics.</p></li>
<li><p>Djeghri et al. (in preparation) Uncovering the relative movements of ecological trajectories.</p></li>
<li><p>Sturbois A, De Cáceres M, Sánchez-Pinillos M, Schaal G, Gauthier O, Le Mao P, Ponsero A, &amp; Desroy N (2021a). Extending community trajectory analysis : New metrics and representation. Ecological Modelling, 440, 109400 (<a href="https://doi.org/10.1016/j.ecolmodel.2020.109400" class="external-link uri">https://doi.org/10.1016/j.ecolmodel.2020.109400</a>).</p></li>
<li><p>Sturbois A, Cucherousset J, De Cáceres M, Desroy N, Riera P, Carpentier A, Quillien N, Grall J, Espinasse B, Cherel Y &amp; Schaal G (2021). Stable Isotope Trajectory Analysis (SITA) : A new approach to quantify and visualize dynamics in stable isotope studies. Ecological Monographs, 92, e1501 (<a href="https://doi.org/10.1002/ecm.1501" class="external-link uri">https://doi.org/10.1002/ecm.1501</a>).</p></li>
<li><p>Sturbois A, De Cáceres M, Bifolchi A, Bioret F, Boyé A, Gauthier O, Grall J, Grémare A, Labrune C, Robert A, Schaal G &amp; Desroy N (2023). Ecological Quality Assessment: a general multivariate framework to report the quality of ecosystems and their dynamics with respect to reference conditions. Ecosphere 14, e4726 (<a href="https://doi.org/10.1002/ecs2.4726" class="external-link uri">https://doi.org/10.1002/ecs2.4726</a>).</p></li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=ecotraj" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/emf-creaf/ecotraj/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/emf-creaf/ecotraj/issues" class="external-link">Report a bug</a></li>
<li><a href="https://emf-creaf.github.io/ecotraj">Package website</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 2)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ecotraj</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Miquel De Cáceres <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-7132-2080" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Nicolas Djeghri <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-5740-3386" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Anthony Sturbois <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-9219-4468" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miquel De Cáceres, Nicolas Djeghri, Anthony Sturbois.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
